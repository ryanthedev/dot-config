# ============================================================================
# BFD (Built-in Focus Direction) Hotkey Configuration
# ============================================================================
#
# All fields are optional - you can comment out any section.
#
# Hotkey format: "modifier+modifier-key"
#   Modifiers: cmd, ctrl, alt, shift (combine with +)
#   Examples: cmd-h, cmd+shift-h, ctrl+alt-j
#
# Hotkey values can be:
#   - Simple command string: "thegrid focus left"
#   - Variable expansion: "$grid focus left" (uses vars section)
#   - Extended format with options:
#       run: $grid resize cell left 0.01
#       repeat: false      # Disable key repeat (default: true)
#       rate_limit: 20     # Min ms between repeats (default: 50)
#
# ============================================================================

shell: /bin/zsh

vars:
  grid: /opt/homebrew/bin/thegrid

defaults:
  repeat: true
  rate_limit: 50

blacklist:
  - "VMware Fusion"
  - "Parallels Desktop"

hotkeys:
  # Navigation
  cmd-h: $grid focus prev -m
  cmd-l: $grid focus next -m
  cmd+shift-h: $grid focus left --extend --mouse
  cmd+shift-l: $grid focus right --extend -m
  cmd+shift-j: $grid focus down --extend -m
  cmd+shift-k: $grid focus up --extend -m

  # Movement
  cmd+ctrl-h: $grid window move left --extend -m
  cmd+ctrl-l: $grid window move right --extend -m
  cmd+ctrl-j: $grid window move down --extend -m
  cmd+ctrl-k: $grid window move up --extend -m

  # Swap
  ctrl+alt-h: $grid window swap left -m
  ctrl+alt-l: $grid window swap right -m
  ctrl+alt-j: $grid window swap down -m
  ctrl+alt-k: $grid window swap up -m

  # Resize (faster rate for smooth resizing)
  cmd+alt-h:
    run: $grid resize cell left 0.01
    rate_limit: 20
  cmd+alt-l:
    run: $grid resize cell right 0.01
    rate_limit: 20
  cmd+alt-j:
    run: $grid resize grow 0.01
    rate_limit: 20
  cmd+alt-k:
    run: $grid resize shrink 0.01
    rate_limit: 20
  cmd+alt-0: $grid resize reset --cells

  # Layout
  cmd-0: $grid layout refresh 
  cmd-1: $grid layout apply single-tabs
  cmd-2: $grid layout apply two-column
  cmd-3: $grid layout apply three-column
  cmd-9: rm /Users/r/.local/state/thegrid/thegrid* 
  alt-a: thegrid-reapply-layouts
  alt-s: $grid cell mode

  # Apps (no repeat for launchers)
  cmd-return:
    run: open -na /Applications/Ghostty.app
    repeat: false
  alt-space:
    run: dalauncher
    repeat: false
  cmd-escape:
    run: $grid pick window
    repeat: false

  # Service control
  alt-escape:
    run: services stop thegrid-dev
    repeat: false

# ============================================================================
# Per-App Hotkey Overrides
# ============================================================================
#
# Override hotkeys for specific applications. Values can be:
#   - "~"           Pass-through to the app (BFD ignores, app receives key)
#   - "command"     Run a different command for this app
#   - Extended format (same as hotkeys section)
#
# Example:
#   apps:
#     Ghostty:
#       cmd-h: ~              # Let Ghostty handle cmd-h natively
#       cmd-l: ~              # Let Ghostty handle cmd-l natively
#     "Some App":
#       cmd-k: $grid focus up # Different command for this app
#
# ============================================================================

# apps:
#   Ghostty:
#     cmd-h: ~
#     cmd-l: ~
